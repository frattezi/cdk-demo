"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const api = require("@aws-cdk/cx-api");
const inspector_1 = require("./inspector");
const synth_utils_1 = require("./synth-utils");
function expect(stack, skipValidation = false) {
    // if this is already a synthesized stack, then just inspect it.
    const artifact = stack instanceof api.CloudFormationStackArtifact ? stack : synth_utils_1.SynthUtils._synthesizeWithNested(stack, { skipValidation });
    return new inspector_1.StackInspector(artifact);
}
exports.expect = expect;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwZWN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZXhwZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsdUNBQXVDO0FBQ3ZDLDJDQUE2QztBQUM3QywrQ0FBMkM7QUFFM0MsU0FBZ0IsTUFBTSxDQUFDLEtBQWtELEVBQUUsY0FBYyxHQUFHLEtBQUs7SUFDL0YsZ0VBQWdFO0lBQ2hFLE1BQU0sUUFBUSxHQUFHLEtBQUssWUFBWSxHQUFHLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsd0JBQVUsQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLEVBQUUsRUFBRSxjQUFjLEVBQUUsQ0FBQyxDQUFDO0lBQ3hJLE9BQU8sSUFBSSwwQkFBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3RDLENBQUM7QUFKRCx3QkFJQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNkayBmcm9tICdAYXdzLWNkay9jb3JlJztcbmltcG9ydCAqIGFzIGFwaSBmcm9tICdAYXdzLWNkay9jeC1hcGknO1xuaW1wb3J0IHsgU3RhY2tJbnNwZWN0b3IgfSBmcm9tICcuL2luc3BlY3Rvcic7XG5pbXBvcnQgeyBTeW50aFV0aWxzIH0gZnJvbSAnLi9zeW50aC11dGlscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBleHBlY3Qoc3RhY2s6IGFwaS5DbG91ZEZvcm1hdGlvblN0YWNrQXJ0aWZhY3QgfCBjZGsuU3RhY2ssIHNraXBWYWxpZGF0aW9uID0gZmFsc2UpOiBTdGFja0luc3BlY3RvciB7XG4gIC8vIGlmIHRoaXMgaXMgYWxyZWFkeSBhIHN5bnRoZXNpemVkIHN0YWNrLCB0aGVuIGp1c3QgaW5zcGVjdCBpdC5cbiAgY29uc3QgYXJ0aWZhY3QgPSBzdGFjayBpbnN0YW5jZW9mIGFwaS5DbG91ZEZvcm1hdGlvblN0YWNrQXJ0aWZhY3QgPyBzdGFjayA6IFN5bnRoVXRpbHMuX3N5bnRoZXNpemVXaXRoTmVzdGVkKHN0YWNrLCB7IHNraXBWYWxpZGF0aW9uIH0pO1xuICByZXR1cm4gbmV3IFN0YWNrSW5zcGVjdG9yKGFydGlmYWN0KTtcbn1cbiJdfQ==