"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs = require("fs");
const path = require("path");
let logThreshold = 'info';
exports.VERSION = JSON.parse(fs.readFileSync(path.join(__dirname, '..', 'package.json'), { encoding: 'utf-8' })).version;
const LOG_LEVELS = {
    verbose: 1,
    info: 2,
    error: 3,
};
function setLogThreshold(threshold) {
    logThreshold = threshold;
}
exports.setLogThreshold = setLogThreshold;
function log(level, message) {
    if (LOG_LEVELS[level] >= LOG_LEVELS[logThreshold]) {
        // tslint:disable-next-line:no-console
        console.error(`${level.padEnd(7, ' ')}: ${message}`);
    }
}
exports.log = log;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2luZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxvZ2dpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx5QkFBeUI7QUFDekIsNkJBQTZCO0FBRzdCLElBQUksWUFBWSxHQUFhLE1BQU0sQ0FBQztBQUV2QixRQUFBLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLGNBQWMsQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7QUFFOUgsTUFBTSxVQUFVLEdBQTZCO0lBQzNDLE9BQU8sRUFBRSxDQUFDO0lBQ1YsSUFBSSxFQUFFLENBQUM7SUFDUCxLQUFLLEVBQUUsQ0FBQztDQUNULENBQUM7QUFFRixTQUFnQixlQUFlLENBQUMsU0FBbUI7SUFDakQsWUFBWSxHQUFHLFNBQVMsQ0FBQztBQUMzQixDQUFDO0FBRkQsMENBRUM7QUFFRCxTQUFnQixHQUFHLENBQUMsS0FBZSxFQUFFLE9BQWU7SUFDbEQsSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLElBQUksVUFBVSxDQUFDLFlBQVksQ0FBQyxFQUFFO1FBQ2pELHNDQUFzQztRQUN0QyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEtBQUssT0FBTyxFQUFFLENBQUMsQ0FBQztLQUN0RDtBQUNILENBQUM7QUFMRCxrQkFLQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5cbmV4cG9ydCB0eXBlIExvZ0xldmVsID0gJ3ZlcmJvc2UnIHwgJ2luZm8nIHwgJ2Vycm9yJztcbmxldCBsb2dUaHJlc2hvbGQ6IExvZ0xldmVsID0gJ2luZm8nO1xuXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLicsICdwYWNrYWdlLmpzb24nKSwgeyBlbmNvZGluZzogJ3V0Zi04JyB9KSkudmVyc2lvbjtcblxuY29uc3QgTE9HX0xFVkVMUzogUmVjb3JkPExvZ0xldmVsLCBudW1iZXI+ID0ge1xuICB2ZXJib3NlOiAxLFxuICBpbmZvOiAyLFxuICBlcnJvcjogMyxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRMb2dUaHJlc2hvbGQodGhyZXNob2xkOiBMb2dMZXZlbCkge1xuICBsb2dUaHJlc2hvbGQgPSB0aHJlc2hvbGQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2cobGV2ZWw6IExvZ0xldmVsLCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgaWYgKExPR19MRVZFTFNbbGV2ZWxdID49IExPR19MRVZFTFNbbG9nVGhyZXNob2xkXSkge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1jb25zb2xlXG4gICAgY29uc29sZS5lcnJvcihgJHtsZXZlbC5wYWRFbmQoNywgJyAnKX06ICR7bWVzc2FnZX1gKTtcbiAgfVxufSJdfQ==